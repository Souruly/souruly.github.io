{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./src/utils/helpers.js","webpack:///./src/utils/seo.js"],"names":["data","allProjects","allMarkdownRemark","edges","allFeaturedImages","allFile","featuredImageMap","Utils","getImageMap","title","className","map","node","key","id","to","fields","slug","featuredImages","frontmatter","tags","excerpt","query","images","regex","hasMultipleImages","limit","reduce","image","relativePath","match","hasOwnProperty","length","push","childImageSharp","fluid","arr","SEO","description","lang","meta","img","pathname","site","metaDescription","siteMetadata","src","siteUrl","canonical","htmlAttributes","titleTemplate","link","rel","href","name","content","keywords","join","property","author","concat","width","height","defaultProps"],"mappings":"6FAAA,0GAMe,sBAAe,IAAZA,EAAW,EAAXA,KACVC,EAAcD,EAAKE,kBAAkBC,OAAS,GAC9CC,EAAoBJ,EAAKK,QAAQF,OAAS,GAE1CG,EAAmBC,IAAMC,YAAYJ,EAD7B,sBACuD,EAAM,GAE3E,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKK,MAAM,aACX,kBAAC,IAAD,CAAWA,MAAM,aACjB,kBAAC,IAAD,CAAWC,UAAU,aACnB,iCACGT,EAAYU,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACf,yBAAKC,IAAKD,EAAKE,GAAIJ,UAAU,OAC3B,kBAAC,IAAD,CACEK,GAAIH,EAAKI,OAAOC,KAChBC,eAAgBZ,EAAiBM,EAAKI,OAAOC,MAC7CR,MAAOG,EAAKO,YAAYV,MACxBW,KAAMR,EAAKO,YAAYC,KACvBC,QAAST,EAAKS,UAEhB,qCASP,IAAMC,EAAK,a,0KCpCH,G,UAAA,CACbd,YAAa,SAACe,EAAQC,EAAOC,EAA2BC,GACtD,YADoE,IAAzCD,OAAoB,QAAqB,IAAdC,MAAQ,GACvDH,EAAOI,QAAO,SAAChB,EAAKiB,GACzB,IAAMX,EAAOW,EAAMhB,KAAKiB,aAAaC,MAAMN,GAAO,GAClD,GAAIC,EACF,GAAId,EAAIoB,eAAed,GACjBN,EAAIM,GAAMe,QAAUN,GACtBf,EAAIM,GAAMgB,KAAKL,EAAMhB,KAAKsB,gBAAgBC,WACvC,CACL,IAAMC,EAAM,GACZA,EAAIH,KAAKL,EAAMhB,KAAKsB,gBAAgBC,OACpCxB,EAAIM,GAAQmB,OAGdzB,EAAIM,GAAQW,EAAMhB,KAAKsB,gBAAgBC,MAEzC,OAAOxB,IACN,Q,mFCVD0B,EAAM,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,YAAaC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,KAAaC,EAA2B,EAAlCb,MAAYnB,EAAsB,EAAtBA,MAAOiC,EAAe,EAAfA,SACjDC,EADgE,OAChEA,KAEFC,EAAkBN,GAAeK,EAAKE,aAAaP,YACnDV,EAAQa,GAAOA,EAAIK,IAAX,GAAoBH,EAAKE,aAAaE,QAAUN,EAAIK,IAAQ,KAEpEE,EAAYN,EAAQ,GAAMC,EAAKE,aAAaE,QAAUL,EAAa,KAEzE,OACE,kBAAC,IAAD,CACEO,eAAgB,CAAEV,QAClB9B,MAAOA,EACPyC,cAAa,QAAUP,EAAKE,aAAapC,MACzC0C,KAAMH,EAAY,CAAC,CAAEI,IAAI,YAAcC,KAAML,IAAe,GAC5DR,KAAM,CACJ,CAAEc,KAAK,cAAgBC,QAASX,GAChC,CAAEU,KAAK,WAAaC,QAASZ,EAAKE,aAAaW,SAASC,KAA3B,MAC7B,CAAEC,SAAS,WAAaH,QAAS9C,GACjC,CAAEiD,SAAS,iBAAmBH,QAASX,GACvC,CAAEc,SAAS,UAAYH,QAAQ,WAC/B,CAAED,KAAK,kBAAoBC,QAASZ,EAAKE,aAAac,QACtD,CAAEL,KAAK,gBAAkBC,QAAQ,SACjC,CAAED,KAAK,sBAAwBC,QAASX,IAEvCgB,OACCnB,EACI,CACE,CAAEiB,SAAU,WAAYH,QAAS3B,GACjC,CAAE8B,SAAU,iBAAkBH,QAASd,EAAIoB,OAC3C,CAAEH,SAAU,kBAAmBH,QAASd,EAAIqB,QAC5C,CAAER,KAAM,eAAgBC,QAAS,wBAEnC,CAAC,CAAED,KAAM,eAAgBC,QAAS,aAEvCK,OAAOpB,MAKDH,MAefA,EAAI0B,aAAe,CACjBxB,KAAK,KACLC,KAAM,GACNF,YAAY,K","file":"component---src-pages-projects-js-e900cb02e456a94bda81.js","sourcesContent":["import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\nimport { PageLayout, PageTitle, ProjectLink } from \"../components\"\r\nimport { SEO, Utils } from \"../utils\"\r\nimport Container from \"react-bootstrap/Container\"\r\n\r\nexport default ({ data }) => {\r\n  const allProjects = data.allMarkdownRemark.edges || []\r\n  const allFeaturedImages = data.allFile.edges || []\r\n  const regex = /\\/[projects].*\\/|$/\r\n  const featuredImageMap = Utils.getImageMap(allFeaturedImages, regex, true, 3)\r\n\r\n  return (\r\n    <PageLayout>\r\n      <SEO title=\"Projects\" />\r\n      <PageTitle title=\"Projects\" />\r\n      <Container className=\"text-left\">\r\n        <section>\r\n          {allProjects.map(({ node }) => (\r\n            <div key={node.id} className=\"p-3\">\r\n              <ProjectLink\r\n                to={node.fields.slug}\r\n                featuredImages={featuredImageMap[node.fields.slug]}\r\n                title={node.frontmatter.title}\r\n                tags={node.frontmatter.tags}\r\n                excerpt={node.excerpt}\r\n              />\r\n              <hr />\r\n            </div>\r\n          ))}\r\n        </section>\r\n      </Container>\r\n    </PageLayout>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allMarkdownRemark(\r\n      filter: { fileAbsolutePath: { regex: \"/projects/\" } }\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          id\r\n          timeToRead\r\n          frontmatter {\r\n            title\r\n            description\r\n            tags\r\n            date(formatString: \"DD MMMM, YYYY\")\r\n          }\r\n          fields {\r\n            slug\r\n          }\r\n          excerpt\r\n        }\r\n      }\r\n    }\r\n    allFile(\r\n      filter: {\r\n        extension: { eq: \"jpg\" }\r\n        relativePath: { regex: \"/feature/\" }\r\n        relativeDirectory: { regex: \"/content/projects/\" }\r\n      }\r\n    ) {\r\n      edges {\r\n        node {\r\n          childImageSharp {\r\n            fluid(maxWidth: 200) {\r\n              ...GatsbyImageSharpFluid\r\n            }\r\n          }\r\n          relativePath\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","export default {\r\n  getImageMap: (images, regex, hasMultipleImages = false, limit = 3) => {\r\n    return images.reduce((map, image) => {\r\n      const slug = image.node.relativePath.match(regex)[0]\r\n      if (hasMultipleImages) {\r\n        if (map.hasOwnProperty(slug)) {\r\n          if (map[slug].length <= limit)\r\n            map[slug].push(image.node.childImageSharp.fluid)\r\n        } else {\r\n          const arr = []\r\n          arr.push(image.node.childImageSharp.fluid)\r\n          map[slug] = arr\r\n        }\r\n      } else {\r\n        map[slug] = image.node.childImageSharp.fluid\r\n      }\r\n      return map\r\n    }, {})\r\n  },\r\n}\r\n","/** https://www.gatsbyjs.org/docs/add-seo-component/ */\r\n\r\nimport React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport { Helmet } from \"react-helmet\"\r\nimport { useStaticQuery, graphql } from \"gatsby\"\r\n\r\nconst SEO = ({ description, lang, meta, image: img, title, pathname }) => {\r\n  const { site } = useStaticQuery(query)\r\n\r\n  const metaDescription = description || site.siteMetadata.description\r\n  const image = img && img.src ? `${site.siteMetadata.siteUrl}${img.src}` : null\r\n\r\n  const canonical = pathname ? `${site.siteMetadata.siteUrl}${pathname}` : null\r\n\r\n  return (\r\n    <Helmet\r\n      htmlAttributes={{ lang }}\r\n      title={title}\r\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\r\n      link={canonical ? [{ rel: `canonical`, href: canonical }] : []}\r\n      meta={[\r\n        { name: `description`, content: metaDescription },\r\n        { name: `keywords`, content: site.siteMetadata.keywords.join(`,`) },\r\n        { property: `og:title`, content: title },\r\n        { property: `og:description`, content: metaDescription },\r\n        { property: `og:type`, content: `website` },\r\n        { name: `twitter:creator`, content: site.siteMetadata.author },\r\n        { name: `twitter:title`, content: `title` },\r\n        { name: `twitter:description`, content: metaDescription },\r\n      ]\r\n        .concat(\r\n          img\r\n            ? [\r\n                { property: \"og:image\", content: image },\r\n                { property: \"og:image:width\", content: img.width },\r\n                { property: \"og:image:height\", content: img.height },\r\n                { name: \"twitter:card\", content: \"summary_large_image\" },\r\n              ]\r\n            : [{ name: \"twitter:card\", content: \"summary\" }]\r\n        )\r\n        .concat(meta)}\r\n    />\r\n  )\r\n}\r\n\r\nexport default SEO\r\n\r\nSEO.propTypes = {\r\n  description: PropTypes.string,\r\n  lang: PropTypes.string,\r\n  meta: PropTypes.arrayOf(PropTypes.object),\r\n  title: PropTypes.string.isRequired,\r\n  image: PropTypes.shape({\r\n    src: PropTypes.string.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    width: PropTypes.number.isRequired,\r\n  }),\r\n  pathname: PropTypes.string,\r\n}\r\n\r\nSEO.defaultProps = {\r\n  lang: `en`,\r\n  meta: [],\r\n  description: ``,\r\n}\r\n\r\nconst query = graphql`\r\n  query SEO {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        description\r\n        author\r\n        keywords\r\n        siteUrl\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"sourceRoot":""}